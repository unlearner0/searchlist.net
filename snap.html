<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Snapchat Search Page">
    <meta name="keywords" content="snapchat, search, social media">
    <meta name="author" content="Jagadeesan">
    <meta name="robots" content="search, ID">
    <meta name="googlebot" content="search, ID">
    <meta name="theme-color" content="#fffc00"> <!-- Theme color for Android -->
    <meta name="msapplication-navbutton-color" content="#fffc00"> <!-- Theme color for Windows Mobile -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"> <!-- Status bar style for iOS -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">

    <title>search my snap ID card</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> <!-- Add Font Awesome library for icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"> <!-- Add Variable font stylesheet -->
    <style>
        body {
            background: #fffc00; /* Snapchat yellow background color */
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Fix horizontal scrolling */
        }

        .logo {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            color: #000; /* Logo color */
            font-size: 24px;
            margin-top: 10px;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding-top: 50px; /* Adjusted padding to accommodate the fixed logo */
        }

        .search-instructions {
            text-align: center;
            font-size: 14px;
            margin-bottom: 20px;
            color: #000; /* Text color */
        }

        .search {
            width: 80%;
            position: relative; /* Added position relative */
            margin-bottom: 20px;
        }

        .searchTerm {
            width: 100%; /* Adjusted width to fill the container */
            border: 1px solid #000; /* Dark black border color */
            border-radius: 8px;
            padding: 10px 40px 10px 10px; /* Adjusted padding to accommodate the icon */
            font-size: 16px;
            outline: none;
            color: #000; /* Text color */
            box-sizing: border-box; /* Added box-sizing to include padding in width */
        }

        .searchTerm:focus {
            border: 1px solid #333; /* Darker border color when focused */
        }

        .btn {
            position: absolute; /* Added position absolute */
            top: 50%; /* Adjusted top position */
            right: 10px; /* Adjusted right position */
            transform: translateY(-50%); /* Center vertically */
            height: 40px;
            width: 40px; /* Adjusted width */
            border: none;
            background: none;
            cursor: pointer;
        }

        .btn i {
            font-family: 'Material Symbols Outlined';
            font-size: 20px;
            color: #666; /* Gray color */
        }

        /* Styles for the "Next" button */
        .nextButton {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        .nextButton button {
            padding: 10px 20px;
            border: 1px solid #000; /* Dark black border color */
            background-color: #000; /* Dark black background color */
            border-radius: 8px;
            cursor: pointer;
            transition: background-color linear 0.1s;
            font-size: 16px;
            color: #fff; /* Text color */
        }

        .nextButton button:hover {
            background-color: rgb(20, 20, 20); /* Darker black hover color */
        }

        @media (max-width: 768px) {
            .container {
                padding-top: 60px; /* Adjusted padding for smaller screens */
            }

            .search {
                width: 90%; /* Adjusted width for smaller screens */
            }

            .nextButton button {
                padding: 8px 16px;
            }
        }
    </style>
</head>
<body>
<div class="logo">
    <i class="fa fa-snapchat" aria-hidden="true" style="color: #000;"></i> Search my Snap
</div>

<div class="container">
    <div class="search-instructions">
        <p>How to search:</p>
        <ul>
            <li>Type the exact ID with "@" (e.g., @username) to find a specific user.</li>
            <li>Enter keywords to explore topics and users in general.</li>
        </ul>
    </div>
    <div class="search">
        <input type="text" class="searchTerm" id="searchInput" placeholder="Search...">
        <button class="btn" id="searchBtn"><i class="material-symbols-outlined">&#xe8b6;</i></button>
    </div>
</div>

<div class="nextButton">
    <button id="myButton">Next</button>
</div>

<script>
    // Function to handle search button click and Enter key press
    function handleSearch() {
        var searchTerm = document.getElementById("searchInput").value.trim();
        if (searchTerm !== "") {
            // Append parameters for specific search types: IDs, profile names, or mobile numbers
            if (searchTerm.startsWith('@')) {
                window.location.href = "https://www.snapchat.com/add/" + encodeURIComponent(searchTerm.substring(1));
            } else {
                window.location.href = "https://www.snapchat.com/explore/" + encodeURIComponent(searchTerm);
            }
        } else {
            alert("Please enter a search term.");
        }
    }

    document.getElementById("searchBtn").addEventListener("click", handleSearch);

    document.getElementById("searchInput").addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            handleSearch();
        }
    });
    // Redirect to explore page when the "Next" button is clicked
    document.getElementById("myButton").addEventListener("click", function() {
        window.location.href = "insta.html"; // Redirect to explore page
    });

    // Example Node.js middleware to set CORS headers
app.use(function(req, res, next) {
    res.header("Access-Control-Allow-Origin", "https://trusted-domain.com");
    res.header("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept");
    next();
});
// Redirect HTTP requests to HTTPS
if (window.location.protocol !== 'https:') {
    window.location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
}
// Set HttpOnly and Secure flags for a cookie
document.cookie = "name=value; HttpOnly; Secure";
// Function to encrypt user search entries
async function encryptSearchData(searchEntry, encryptionKey) {
    const iv = window.crypto.getRandomValues(new Uint8Array(12)); // Generate a random initialization vector
    const encodedText = new TextEncoder().encode(searchEntry); // Convert search entry to byte array

    const encryptedData = await window.crypto.subtle.encrypt(
        {
            name: "AES-GCM",
            iv: iv
        },
        encryptionKey,
        encodedText
    );

    return {
        ciphertext: encryptedData,
        iv: iv
    };
}

// Example usage
async function example() {
    const encryptionKey = await getKeyFromServer(); // Fetch encryption key from the server securely
    const searchEntry = document.getElementById("searchInput").value.trim();

    if (searchEntry) {
        const encryptedSearchData = await encryptSearchData(searchEntry, encryptionKey);
        console.log("Encrypted search data:", encryptedSearchData);

        // Now you can send encryptedSearchData to your server
    } else {
        console.error("Please enter a search entry.");
    }
}

// Replace this function with your actual implementation to fetch the encryption key from the server securely
async function getKeyFromServer() {
    // Fetch encryption key from the server using a secure method (e.g., HTTPS)
    // and return it
    return await fetch("/getEncryptionKey")
        .then(response => response.json())
        .then(data => data.encryptionKey)
        .catch(error => {
            console.error("Error fetching encryption key:", error);
            return null;
        });
}

// Execute example function when a search button is clicked or the Enter key is pressed
document.getElementById("searchBtn").addEventListener("click", example);
document.getElementById("searchInput").addEventListener("keypress", function(event) {
    if (event.key === "Enter") {
        example();
    }
});
    // Function to encrypt user search entries
async function encryptSearchData(searchEntry, encryptionKey) {
    const iv = window.crypto.getRandomValues(new Uint8Array(12)); // Generate a random initialization vector
    const encodedText = new TextEncoder().encode(searchEntry); // Convert search entry to byte array

    const encryptedData = await window.crypto.subtle.encrypt(
        {
            name: "AES-GCM",
            iv: iv
        },
        encryptionKey,
        encodedText
    );

    return {
        ciphertext: encryptedData,
        iv: iv
    };
}

// Example usage
async function example() {
    const encryptionKey = await getKeyFromServer(); // Fetch encryption key from the server securely
    const searchEntry = document.getElementById("searchInput").value.trim();

    if (searchEntry) {
        const encryptedSearchData = await encryptSearchData(searchEntry, encryptionKey);
        console.log("Encrypted search data:", encryptedSearchData);

        // Now you can send encryptedSearchData to your server
    } else {
        console.error("Please enter a search entry.");
    }
}

// Replace this function with your actual implementation to fetch the encryption key from the server securely
async function getKeyFromServer() {
    // Fetch encryption key from the server using a secure method (e.g., HTTPS)
    // and return it
    return await fetch("/getEncryptionKey")
        .then(response => response.json())
        .then(data => data.encryptionKey)
        .catch(error => {
            console.error("Error fetching encryption key:", error);
            return null;
        });
}

// Execute example function when a search button is clicked or the Enter key is pressed
document.getElementById("searchBtn").addEventListener("click", example);
document.getElementById("searchInput").addEventListener("keypress", function(event) {
    if (event.key === "Enter") {
        example();
    }
});
// Function to save user search history to localStorage
function saveSearchHistory(searchTerm) {
    try {
        const existingHistory = JSON.parse(localStorage.getItem('searchHistory')) || [];
        const updatedHistory = [...existingHistory, searchTerm];
        localStorage.setItem('searchHistory', JSON.stringify(updatedHistory));
    } catch (error) {
        console.error("Error saving search history locally:", error);
    }
}

// Function to retrieve user search history from localStorage
function getSearchHistory() {
    try {
        return JSON.parse(localStorage.getItem('searchHistory')) || [];
    } catch (error) {
        console.error("Error retrieving search history locally:", error);
        return [];
    }
}

// Example usage
const searchTerm = "user entered search term";
saveSearchHistory(searchTerm);

const searchHistory = getSearchHistory();
console.log("Search History:", searchHistory);
// Set data in LocalStorage
localStorage.setItem("key", "value");

// Get data from LocalStorage
var value = localStorage.getItem("key");

// Remove data from LocalStorage
localStorage.removeItem("key");

// Clear all data from LocalStorage
localStorage.clear();
// Set data in SessionStorage
sessionStorage.setItem("key", "value");

// Get data from SessionStorage
var value = sessionStorage.getItem("key");

// Remove data from SessionStorage
sessionStorage.removeItem("key");

// Clear all data from SessionStorage
sessionStorage.clear();

// Update meta tags dynamically
function updateMetaTags(title, description, keywords) {
    document.title = title;
    var metaDescription = document.querySelector('meta[name="description"]');
    if (metaDescription) {
        metaDescription.setAttribute('content', description);
    }
    var metaKeywords = document.querySelector('meta[name="keywords"]');
    if (metaKeywords) {
        metaKeywords.setAttribute('content', keywords);
    }
}

// Example usage:
updateMetaTags("Search My ID Card", "Find your social media ID's and browse contents easily on this website.", "ID profile, search, website");
</script>
</body>
</html>
